{"ast":null,"code":"import axios from\"axios\";import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=_ref=>{let{setLogin}=_ref;const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[redirect,setRedirect]=useState(false);const navigate=useNavigate();// Initialize the navigate function\nconst submit=async e=>{e.preventDefault();const response=await axios.post('login',{email:email,password:password},{withCredentials:true// This ensures the cookies are included\n});console.log(response);setRedirect(true);setLogin();};useEffect(()=>{if(redirect){navigate('/');}},[redirect,navigate]);// Trigger useEffect when 'redirects' changes\nreturn/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"form-signin container\",onSubmit:submit,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"h3 mb-3 font-weight-normal\",children:\"Please sign in\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",placeholder:\"Email\",required:true,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"Password\",required:true,style:{marginTop:'10px'},onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",style:{marginTop:'10px'},children:/*#__PURE__*/_jsx(Link,{to:\"/forgot\",className:\"nav-link\",children:\"Forgot Password\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-lg btn-primary btn-block\",type:\"submit\",style:{marginTop:'10px'},children:\"Sign In\"})]})});};export default Login;","map":{"version":3,"names":["axios","React","useEffect","useState","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","_ref","setLogin","email","setEmail","password","setPassword","redirect","setRedirect","navigate","submit","e","preventDefault","response","post","withCredentials","console","log","children","className","onSubmit","type","placeholder","required","onChange","target","value","style","marginTop","to"],"sources":["D:/Tutorials/React-Laravel-Authentication-Forgot-Password/SOURCE-CODE/react-auth/src/pages/login.tsx"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { SyntheticEvent, useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Login = ({ setLogin }: { setLogin: Function }) => {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [redirect, setRedirect] = useState(false);\r\n\r\n\r\n    const navigate = useNavigate(); // Initialize the navigate function\r\n\r\n    const submit = async (e: SyntheticEvent) => {\r\n        e.preventDefault();\r\n        const response = await axios.post('login', {\r\n            email: email,\r\n            password: password\r\n        }, {\r\n            withCredentials: true // This ensures the cookies are included\r\n        });\r\n\r\n\r\n        console.log(response);\r\n\r\n        setRedirect(true);\r\n        setLogin();\r\n\r\n\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (redirect) {\r\n            navigate('/');\r\n        }\r\n    }, [redirect, navigate]); // Trigger useEffect when 'redirects' changes\r\n\r\n    return (\r\n        <div>\r\n            <form className=\"form-signin container\" onSubmit={submit}>\r\n                <h1 className='h3 mb-3 font-weight-normal'>Please sign in</h1>\r\n\r\n                <input type=\"email\" className='form-control' placeholder='Email' required\r\n                    onChange={e => setEmail(e.target.value)} />\r\n\r\n                <input type=\"password\" className='form-control' placeholder='Password' required style={{ marginTop: '10px' }}\r\n                    onChange={e => setPassword(e.target.value)} />\r\n\r\n                <div className=\"mb-3\" style={{ marginTop: '10px' }}>\r\n                    <Link to=\"/forgot\" className=\"nav-link\">Forgot Password</Link>\r\n                </div>\r\n\r\n                <button className='btn btn-lg btn-primary btn-block' type='submit' style={{ marginTop: '10px' }}>Sign In</button>\r\n            </form>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,EAAoBC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClE,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,KAAK,CAAGC,IAAA,EAA0C,IAAzC,CAAEC,QAAiC,CAAC,CAAAD,IAAA,CAE/C,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACY,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACc,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CAG/C,KAAM,CAAAgB,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAAE;AAEhC,KAAM,CAAAe,MAAM,CAAG,KAAO,CAAAC,CAAiB,EAAK,CACxCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAvB,KAAK,CAACwB,IAAI,CAAC,OAAO,CAAE,CACvCX,KAAK,CAAEA,KAAK,CACZE,QAAQ,CAAEA,QACd,CAAC,CAAE,CACCU,eAAe,CAAE,IAAK;AAC1B,CAAC,CAAC,CAGFC,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAAC,CAErBL,WAAW,CAAC,IAAI,CAAC,CACjBN,QAAQ,CAAC,CAAC,CAGd,CAAC,CAEDV,SAAS,CAAC,IAAM,CACZ,GAAIe,QAAQ,CAAE,CACVE,QAAQ,CAAC,GAAG,CAAC,CACjB,CACJ,CAAC,CAAE,CAACF,QAAQ,CAAEE,QAAQ,CAAC,CAAC,CAAE;AAE1B,mBACIZ,IAAA,QAAAqB,QAAA,cACInB,KAAA,SAAMoB,SAAS,CAAC,uBAAuB,CAACC,QAAQ,CAAEV,MAAO,CAAAQ,QAAA,eACrDrB,IAAA,OAAIsB,SAAS,CAAC,4BAA4B,CAAAD,QAAA,CAAC,gBAAc,CAAI,CAAC,cAE9DrB,IAAA,UAAOwB,IAAI,CAAC,OAAO,CAACF,SAAS,CAAC,cAAc,CAACG,WAAW,CAAC,OAAO,CAACC,QAAQ,MACrEC,QAAQ,CAAEb,CAAC,EAAIP,QAAQ,CAACO,CAAC,CAACc,MAAM,CAACC,KAAK,CAAE,CAAE,CAAC,cAE/C7B,IAAA,UAAOwB,IAAI,CAAC,UAAU,CAACF,SAAS,CAAC,cAAc,CAACG,WAAW,CAAC,UAAU,CAACC,QAAQ,MAACI,KAAK,CAAE,CAAEC,SAAS,CAAE,MAAO,CAAE,CACzGJ,QAAQ,CAAEb,CAAC,EAAIL,WAAW,CAACK,CAAC,CAACc,MAAM,CAACC,KAAK,CAAE,CAAE,CAAC,cAElD7B,IAAA,QAAKsB,SAAS,CAAC,MAAM,CAACQ,KAAK,CAAE,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAAV,QAAA,cAC/CrB,IAAA,CAACH,IAAI,EAACmC,EAAE,CAAC,SAAS,CAACV,SAAS,CAAC,UAAU,CAAAD,QAAA,CAAC,iBAAe,CAAM,CAAC,CAC7D,CAAC,cAENrB,IAAA,WAAQsB,SAAS,CAAC,kCAAkC,CAACE,IAAI,CAAC,QAAQ,CAACM,KAAK,CAAE,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAAV,QAAA,CAAC,SAAO,CAAQ,CAAC,EAC/G,CAAC,CAEN,CAAC,CAEd,CAAC,CAED,cAAe,CAAAlB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}